webpackJsonp([1],{0:function(e,t){},1:function(e,t){},"1XoM":function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},6:function(e,t){},7:function(e,t){},8:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(e){n("dmDf")},null,null).exports,r=n("/ocq"),i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._v(" "),n("h2",[e._v("Essential Links")]),e._v(" "),n("p",[n("router-link",{attrs:{to:"/"}},[e._v("Go to Home")]),e._v(" "),n("router-link",{attrs:{to:"/video"}},[e._v("Go to Video")]),e._v(" "),n("router-link",{attrs:{to:"/recognizer"}},[e._v("Go to Recognizer")])],1),e._v(" "),e._m(0),e._v(" "),n("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),n("br"),e._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(e){n("Om08")},"data-v-a946e3c4",null).exports;var u=n("Xxa5"),c=n.n(u),h=n("exGp"),l=n.n(h),m=(n("yCyq"),n("U8/0")),d=n("H9Ud"),v=(m.Canvas,m.Image,m.ImageData);d.d.monkeyPatch({Canvas:HTMLCanvasElement,Image:HTMLImageElement,ImageData:v,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")}});var f={"ðŸ‘»":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","ðŸ’€":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","ðŸ•·":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","âš°":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","ðŸŒ•":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","ðŸŽƒ":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...","ðŸ¦‡":"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away..."},p={name:"ScaryFaces",data:function(){return{emojis:["ðŸ‘»","ðŸ’€","ðŸ•·","âš°","ðŸŒ•","ðŸŽƒ","ðŸ¦‡"],horrorscopes:f,ready:!1,currentEmojis:[],faceMatcher:null,seenFaces:[],faceEmojiMap:{},video:{},canvas:{},captures:[],loadingEmoji:""}},mounted:function(){this.randomLoadingEmoji(),this.setupVideoElement(),this.setupFaceDetector()},methods:{isFaceDetectionModelLoaded:function(){return!!d.i.tinyFaceDetector.params},setupVideoElement:function(){var e=l()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.videoEl=document.getElementById("cam"),console.log("videoEl",this.videoEl),this.videoEl.setAttribute("autoplay",""),this.videoEl.setAttribute("muted",""),this.videoEl.setAttribute("playsinline",""),e.next=7,navigator.mediaDevices.getUserMedia({video:!0});case 7:t=e.sent,this.videoEl.srcObject=t,this.videoEl.onloadedmetadata=this.onPlay();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setupFaceDetector:function(){var e=l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.i.tinyFaceDetector.load("/static/weights");case 2:return e.next=4,d.f("/static/weights");case 4:return e.next=6,d.g("/static/weights");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),randomLoadingEmoji:function(){var e=this;if(this.loadingEmoji=this.emojis[Math.floor(Math.random()*this.emojis.length)],!this.ready)return console.log("new emoji:",this.loadingEmoji),setTimeout(function(){return e.randomLoadingEmoji()},100)},onPlay:function(){var e=l()(c.a.mark(function e(){var t,n,a,o,s,r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.videoEl.paused&&!this.videoEl.ended&&this.isFaceDetectionModelLoaded()){e.next=2;break}return e.abrupt("return",setTimeout(function(){return r.onPlay()}));case 2:return t=160,n=.5,a=new d.b({inputSize:t,scoreThreshold:n}),e.next=7,d.c(this.videoEl,a).withFaceLandmarks().withFaceDescriptors();case 7:return o=e.sent,this.canvas=document.getElementById("overlay"),this.ctx=this.canvas.getContext("2d"),this.dims=d.h(this.canvas,this.videoEl,!0),s=d.j(o,this.dims),e.next=14,this.drawEmojis(s);case 14:this.ready=!0,setTimeout(function(){return r.onPlay()});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),drawEmojis:function(){var e=l()(c.a.mark(function e(t){var n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.currentEmojis=[],t.forEach(function(e){var t=e.detection,a=n.getFaceEmoji(e);n.currentEmojis.push(a);var o=t.box,s=o.topLeft.x+o.width/2,r=o.topLeft.y+o.height/2,i=72;n.ctx.font=i+"px Arial";for(var u=n.ctx.measureText(a);u.width<o.width+20;)n.ctx.font=i+"px Arial",u=n.ctx.measureText(a),i+=12;n.ctx.fillText(a,s-u.width/2,r+u.width/3)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getFaceEmoji:function(e){this.faceMatcher||(this.seenFaces.push(e),this.faceMatcher=new d.a(this.seenFaces));var t=this.faceMatcher.findBestMatch(e.descriptor)._label;return"unknown"==t&&(this.seenFaces.push(e),console.log("new face"),this.faceMatcher=new d.a(this.seenFaces)),(t=this.faceMatcher.findBestMatch(e.descriptor)._label)in this.faceEmojiMap||(console.log("label not in emoji map..."),this.faceEmojiMap[t]=this.emojis[Math.floor(Math.random()*this.emojis.length)]),this.faceEmojiMap[t]},displayEmojiInfo:function(e){console.log("clicked",e.target.innerText)}}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"videoContainer"},[e._m(0),e._v(" "),e._l(e.currentEmojis,function(t){return e.ready?n("p",{staticClass:"horrorscopeText"},[e._v("\n      "+e._s(t)+":\n      "),n("br"),e._v(" "),n("span",{staticClass:"horrorText"},[e._v(e._s(e.horrorscopes[t]))])]):e._e()}),e._v(" "),e.ready?e._e():n("h2",{staticClass:"horrorscopeText"},[n("span",{staticClass:"horrorText"},[e._v("Reading the spooky air, please wait..."+e._s(e.loadingEmoji))])]),e._v(" "),n("canvas",{attrs:{id:"overlay"}}),e._v(" "),n("video",{staticClass:"video",attrs:{id:"cam",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0}})],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"titletext "},[t("h1",[this._v(" spooky")]),this._v(" "),t("h1",[this._v(" emoji")]),this._v(" "),t("h1",[this._v(" horrorscope")])])}]};var g=n("VU/8")(p,y,!1,function(e){n("pgJj")},null,null).exports,E=n("fZjL"),_=n.n(E),w=(m.Canvas,m.Image,m.ImageData);d.d.monkeyPatch({Canvas:HTMLCanvasElement,Image:HTMLImageElement,ImageData:w,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")}});var b={name:"ScaryFaces",data:function(){return{emojis:["ðŸ‘»","ðŸ’€","ðŸ•·","âš°","ðŸŒ•","ðŸŽƒ","ðŸ¦‡"],emojiEmotionMap:{angry:"ðŸ‘»",disgusted:"ðŸ’€",fearful:"ðŸ•·",happy:"ðŸ•·",neutral:"ðŸŒ•",sad:"âš°",surprised:"ðŸŽƒ"},faceMatcher:null,seenFaces:[],faceEmojiMap:{},video:{},canvas:{},captures:[]}},mounted:function(){this.setupVideoElement(),this.setupFaceDetector()},methods:{isFaceDetectionModelLoaded:function(){return!!d.i.tinyFaceDetector.params},setupVideoElement:function(){var e=l()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.videoEl=document.getElementById("cam"),console.log("videoEl",this.videoEl),this.videoEl.setAttribute("autoplay",""),this.videoEl.setAttribute("muted",""),this.videoEl.setAttribute("playsinline",""),e.next=7,navigator.mediaDevices.getUserMedia({video:!0});case 7:t=e.sent,this.videoEl.srcObject=t,this.videoEl.onloadedmetadata=this.onPlay();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),setupFaceDetector:function(){var e=l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.i.tinyFaceDetector.load("/static/weights");case 2:return e.next=4,d.f("/static/weights");case 4:return e.next=6,d.g("/static/weights");case 6:return e.next=8,d.e("/static/weights");case 8:return e.next=10,d.i.ageGenderNet.load("/static/weights");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),onPlay:function(){var e=l()(c.a.mark(function e(){var t,n,a,o,s,r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.videoEl.paused&&!this.videoEl.ended&&this.isFaceDetectionModelLoaded()){e.next=2;break}return e.abrupt("return",setTimeout(function(){return r.onPlay()}));case 2:return t=160,n=.5,a=new d.b({inputSize:t,scoreThreshold:n}),e.next=7,d.c(this.videoEl,a).withFaceLandmarks().withFaceDescriptors().withFaceExpressions().withAgeAndGender();case 7:return o=e.sent,this.canvas=document.getElementById("overlay"),this.ctx=this.canvas.getContext("2d"),this.dims=d.h(this.canvas,this.videoEl,!0),s=d.j(o,this.dims),e.next=14,this.drawEmojis(s);case 14:setTimeout(function(){return r.onPlay()});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),drawEmojis:function(){var e=l()(c.a.mark(function e(t){var n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(">> results:",t),t.forEach(function(e){var t=e.detection.box,a=t.bottomLeft.x,o=t.bottomLeft.y+t.height/2;n.ctx.font="18px Arial",n.ctx.fillStyle="white";var s=[];_()(e.expressions).forEach(function(t){var a=e.expressions[t];if(a>.2){var o=n.emojiEmotionMap[t];s.push(o+" "+a+"\n")}});var r=s.join("\n");console.log("going to draw:",r),n.ctx.fillText(r,a,o)});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getFaceEmoji:function(e){return this.emojis[Math.floor(Math.random()*this.emojis.length)]}}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"videoContainer"},[t("canvas",{attrs:{id:"overlay"}}),this._v(" "),t("video",{staticClass:"video",attrs:{id:"cam",autoplay:"",muted:"",playsinline:""},domProps:{muted:!0}})])},staticRenderFns:[]};var j=n("VU/8")(b,x,!1,function(e){n("1XoM")},null,null).exports;a.a.use(r.a);var k=new r.a({routes:[{path:"/",name:"ScaryFaces",component:g},{path:"/expressions",name:"ScaryRecognizer",component:j}]});n("UnSZ");a.a.config.productionTip=!1,new a.a({el:"#app",router:k,components:{App:s},template:"<App/>"})},Om08:function(e,t){},dmDf:function(e,t){},pgJj:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8c1cb1ac9642048c9ff6.js.map