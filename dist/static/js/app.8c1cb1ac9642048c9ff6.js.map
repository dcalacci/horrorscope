{"version":3,"sources":["webpack:///./src/App.vue?204c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/HelloWorld.vue?59fb","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///src/components/ScaryFaces.vue","webpack:///./src/components/ScaryFaces.vue?9f78","webpack:///./src/components/ScaryFaces.vue","webpack:///src/components/ScaryRecognizer.vue","webpack:///./src/components/ScaryRecognizer.vue?9e17","webpack:///./src/components/ScaryRecognizer.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","components_HelloWorld","_vm","staticClass","_v","_s","msg","to","_m","href","target","HelloWorld_normalizeComponent","data","ImageData","browser","es6","monkeyPatch","Canvas","HTMLCanvasElement","Image","HTMLImageElement","Video","HTMLVideoElement","createCanvasElement","document","createElement","createImageElement","emojiHoroscopes","ðŸ‘»","ðŸ’€","ðŸ•·","âš°","ðŸŒ•","ðŸŽƒ","ðŸ¦‡","ScaryFaces","emojis","horrorscopes","ready","currentEmojis","faceMatcher","seenFaces","faceEmojiMap","video","canvas","captures","loadingEmoji","mounted","randomLoadingEmoji","setupVideoElement","setupFaceDetector","methods","isFaceDetectionModelLoaded","tinyFaceDetector","params","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","stream","wrap","_context","prev","next","videoEl","getElementById","console","log","setAttribute","navigator","mediaDevices","getUserMedia","sent","srcObject","onloadedmetadata","onPlay","stop","apply","arguments","_ref2","_callee2","_context2","load","_this","Math","floor","random","length","setTimeout","_ref3","_callee3","inputSize","scoreThreshold","modelOptions","results","resizedResults","_this2","_context3","paused","ended","abrupt","withFaceLandmarks","withFaceDescriptors","ctx","getContext","dims","drawEmojis","_ref4","_callee4","_this3","_context4","forEach","r","detection","emoji","getFaceEmoji","push","box","x","y","fontSize","font","text","measureText","width","fillText","_x","result","label","findBestMatch","descriptor","_label","displayEmojiInfo","e","innerText","components_ScaryFaces","_l","_e","autoplay","muted","playsinline","domProps","src_components_ScaryFaces","ScaryFaces_normalizeComponent","ScaryRecognizer_ImageData","ScaryRecognizer","emojiEmotionMap","angry","disgusted","fearful","happy","neutral","sad","surprised","ageGenderNet","withFaceExpressions","withAgeAndGender","fillStyle","texts","keys_default","expressions","expression","value","join","components_ScaryRecognizer","src_components_ScaryRecognizer","ScaryRecognizer_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.8c1cb1ac9642048c9ff6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48cd2906\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48cd2906\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48cd2906\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    width: 100%;\n    height: 100%;\n}\n\nhtml, body {\n    margin: 0;\n    padding: 0;\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_c('p',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Go to Home\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/video\"}},[_vm._v(\"Go to Video\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/recognizer\"}},[_vm._v(\"Go to Recognizer\")])],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a946e3c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a946e3c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a946e3c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a946e3c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n      <p>\n    <!-- use router-link component for navigation. -->\n    <!-- specify the link by passing the `to` prop. -->\n    <!-- `<router-link>` will be rendered as an `<a>` tag by default -->\n    <router-link to=\"/\">Go to Home</router-link>\n    <router-link to=\"/video\">Go to Video</router-link>\n    <router-link to=\"/recognizer\">Go to Recognizer</router-link>\n  </p>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data () {\n    return {\n      msg: 'Welcome to Your Vue.js App'\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","<template>\n<div class=\"videoContainer\">\n  <div class=\"titletext \">\n    <h1> spooky</h1>\n    <h1> emoji</h1>\n    <h1> horrorscope</h1>\n    </div>\n    <p v-if=\"ready\" class=\"horrorscopeText\" v-for=\"emoji in currentEmojis\">\n      {{emoji}}:\n      <br/>\n      <span class=\"horrorText\">{{horrorscopes[emoji]}}</span>\n    </p>\n    <h2 class=\"horrorscopeText\" v-if=\"!ready\"><span class=\"horrorText\">Reading the spooky air, please wait...{{loadingEmoji}}</span></h2>\n    \n      <canvas id=\"overlay\" />\n      <video id=\"cam\" class=\"video\" autoplay muted playsinline></video>\n    </div>\n</template>\n\n<script>\nimport '@tensorflow/tfjs';\n// implements nodejs wrappers for HTMLCanvasElement, HTMLImageElement, ImageData\nimport * as canvas from 'canvas';\nimport * as faceapi from 'face-api.js';\n\n// patch nodejs environment, we need to provide an implementation of\n// HTMLCanvasElement and HTMLImageElement, additionally an implementation\n// of ImageData is required, in case you want to use the MTCNN\nconst { Canvas, Image, ImageData } = canvas\n\n//faceapi.env.monkeyPatch({ Canvas, Image, ImageData })\n// configure face API\nfaceapi.env.monkeyPatch({\n  Canvas: HTMLCanvasElement,\n  Image: HTMLImageElement,\n  ImageData: ImageData,\n  Video: HTMLVideoElement,\n  createCanvasElement: () => document.createElement('canvas'),\n  createImageElement: () => document.createElement('img')\n});\n\nconst emojiHoroscopes = {\"ðŸ‘»\": \"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"ðŸ’€\": \"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"ðŸ•·\": \"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"âš°\": \"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"ðŸŒ•\":\"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"ðŸŽƒ\": \"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\",\n                         \n                         \"ðŸ¦‡\":\"You are at your spookiest when you're able to be alone, sometimes even in the same room as other monsters. The past isn't what haunts you; it's the present. Are you floating? Or just surviving? No barriers can hold you, but you might need some ground beneath your feet, lest you float away...\" }\n\nconst emojis = [\"ðŸ‘»\", \"ðŸ’€\", \"ðŸ•·\",\"âš°\", \"ðŸŒ•\",\"ðŸŽƒ\", \"ðŸ¦‡\",];\nlet faceMatcher;\nlet seenFaces = []\nlet faceEmojiMap = {}\n\nexport default {\n  name: 'ScaryFaces',\n  data() {\n    return {\n      emojis: [\"ðŸ‘»\", \"ðŸ’€\", \"ðŸ•·\",\"âš°\", \"ðŸŒ•\",\"ðŸŽƒ\", \"ðŸ¦‡\"],\n      horrorscopes: emojiHoroscopes,\n      ready: false,\n      currentEmojis: [],\n      faceMatcher: null,\n      seenFaces: [],\n      faceEmojiMap: {},\n      video: {},\n      canvas: {},\n      captures: [],\n      loadingEmoji: \"\"\n    }\n  },\n  mounted() {\n    \n    //this.$ls.set(\"testing\", \"test!!\")\n    //console.log(\"from localstorage:\", this.$ls.get(\"testing\"))\n    \n    \n    //let seenFaces = this.$ls.get('seenFaces')\n    //let faceEmojiMap = this.$ls.get('faceEmojiMap')\n    \n    //console.log(\"read seenFaces:\", seenFaces);\n    //console.log(\"loaded seen faces:\", seenFaces)\n    \n    // if (!seenFaces || seenFaces.length < 1) {\n    //   console.log(\"resetting seen faces\")\n    //   seenFaces = [];\n    //   this.$ls.set('seenFaces', [])\n    // } else {\n    //   console.log(\"loaded\", seenFaces.length, \"seen faces:\", seenFaces)\n    //   this.faceMatcher = new faceapi.FaceMatcher(seenFaces)\n    // }\n    this.randomLoadingEmoji()\n    this.setupVideoElement()\n    this.setupFaceDetector()\n  },\n  methods: {\n    isFaceDetectionModelLoaded() {\n      return !!faceapi.nets.tinyFaceDetector.params;\n    },\n    \n    setupVideoElement: async function () {\n      this.videoEl = document.getElementById('cam')\n      console.log(\"videoEl\", this.videoEl);\n      // read that doing this helps with mobile\n      this.videoEl.setAttribute('autoplay', '');\n      this.videoEl.setAttribute('muted', '');\n      this.videoEl.setAttribute('playsinline', '');\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true})\n      this.videoEl.srcObject = stream\n      \n      this.videoEl.onloadedmetadata = this.onPlay()\n    },\n    \n    setupFaceDetector: async function () {\n      await faceapi.nets.tinyFaceDetector.load(\"/static/weights\")\n      await faceapi.loadFaceLandmarkModel('/static/weights')\n      await faceapi.loadFaceRecognitionModel('/static/weights')\n    },\n    \n    randomLoadingEmoji: function () {\n      this.loadingEmoji = this.emojis[Math.floor(Math.random() * this.emojis.length)];\n      if (!this.ready) {\n        console.log(\"new emoji:\", this.loadingEmoji);\n        return setTimeout(() => this.randomLoadingEmoji(), 100)\n      }\n    },\n    \n    onPlay: async function () {\n      if(this.videoEl.paused || this.videoEl.ended || !this.isFaceDetectionModelLoaded())\n        return setTimeout(() => this.onPlay())\n      \n      let inputSize = 160\n      let scoreThreshold = 0.5\n      \n      const modelOptions = new faceapi.TinyFaceDetectorOptions({ inputSize, scoreThreshold })\n      \n      const results = await faceapi\n            .detectAllFaces(this.videoEl, modelOptions)\n            .withFaceLandmarks()\n            .withFaceDescriptors()\n      \n      \n      this.canvas = document.getElementById('overlay')\n      this.ctx = this.canvas.getContext(\"2d\");\n      this.dims = faceapi.matchDimensions(this.canvas, this.videoEl, true)\n      const resizedResults = faceapi.resizeResults(results, this.dims)\n      \n      await this.drawEmojis(resizedResults)\n      \n      this.ready = true;\n      \n      setTimeout(() => this.onPlay())\n    },\n    \n    drawEmojis: async function (resizedResults) {\n      //console.log(\">> results:\", resizedResults);\n      this.currentEmojis = []\n      resizedResults.forEach((r) => {\n        let detection = r.detection;\n        let emoji = this.getFaceEmoji(r);\n        this.currentEmojis.push(emoji);\n        var box = detection[\"box\"]\n        var x = box[\"topLeft\"][\"x\"] + (box[\"width\"]/2)\n        var y = box[\"topLeft\"][\"y\"] + (box[\"height\"]/2)\n        \n        var fontSize = 72;\n        this.ctx.font = \"\" + fontSize + \"px Arial\"\n        var text = this.ctx.measureText(emoji);\n        \n        // find right font size\n        while (text.width < box[\"width\"] + 20) {\n          this.ctx.font = fontSize + \"px Arial\"\n          text = this.ctx.measureText(emoji);\n          fontSize += 12;\n        }\n        \n        // console.log(\"filling ðŸŽƒ @\", x, y);\n        // console.log(\"actually @\", text, x - (text.width/2), y + (text.height/2));\n        this.ctx.fillText(emoji,\n                          x - text.width/2,\n                          y + text.width/3);\n      })\n    },\n    \n    getFaceEmoji: function (result) {\n      if (!this.faceMatcher) {\n        this.seenFaces.push(result)\n        this.faceMatcher = new faceapi.FaceMatcher(this.seenFaces)\n      }\n      \n      let label = this.faceMatcher.findBestMatch(result.descriptor)._label\n      // new face\n      if (label == 'unknown') {\n        this.seenFaces.push(result)\n        console.log(\"new face\")\n        //this.$ls.set(\"seenFaces\", seenFaces)\n        \n        //console.log(\"json added:\", encodeJSON(seenFaces));\n        this.faceMatcher = new faceapi.FaceMatcher(this.seenFaces)\n      }\n      \n      // find match with new faceMatcher\n      label = this.faceMatcher.findBestMatch(result.descriptor)._label\n      \n      // if we haven't assigned an emoji\n      if (!(label in this.faceEmojiMap)) {\n        console.log(\"label not in emoji map...\")\n        this.faceEmojiMap[label] = this.emojis[Math.floor(Math.random() * this.emojis.length)];\n        //this.$ls.set('faceEmojiMap', faceEmojiMap)\n      }\n      \n      return this.faceEmojiMap[label]\n    },\n\n    displayEmojiInfo: function (e) {\n      console.log(\"clicked\", e.target.innerText);\n    }\n    \n  }\n}\n</script>\n\n<style>\nbody {\n    background-color: #F0F0F0;\n}\n#video {\n    background-color: #000000;\n    z-index: 499;\n}\n#overlay, .overlay {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 500;\n}\n\n.titletext {\n    position: absolute;\n    top: 0;\n    left: 0;\n    text-align: left;\n    margin-left: 10px;\n    z-index: 999;\n}\n.titletext h1 {\n    margin: 0;\n    padding: 0;\n}\n\n.titletext ul {\n    padding-left: 10px;\n    margin: 0;\n}\n.titletext li {\n    list-style-type: none;\n    padding: 0;\n}\n\n.titletext a {\n    padding: 0;\n    font-size: 1.5em;\n    text-decoration: none;\n}\n\n.titletext a:hover {\n    opacity: 0.8\n}\n\n\n.horrorscopeText {\n    font-size: 1.3em;\n    font-weight: bold;\n    padding-left: 10px;\n    max-width: 33%;\n    text-align: justify;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    z-index: 999;\n}\n\n@media (max-width : 800px) {\n    .horrorscopeText {\n        font-size: 1.1em;\n        font-weight: bold;\n        max-width: 80%;\n        text-align: justify;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        z-index: 999;\n   }\n}\n\n.horrorText {\n    background-color: #fff;\n    opacity: 0.8;\n    line-height:1.8;\n }\n\n.video {\n        overflow: hidden;\n        display: block;\n        object-fit: cover;\n        width: 100%;\n        height: 100%;\n        z-index: -999;\n    }\n    .videoContainer {\n        overflow: hidden;\n        width: 100vw;\n        height: 100vh;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ScaryFaces.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoContainer\"},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.currentEmojis),function(emoji){return (_vm.ready)?_c('p',{staticClass:\"horrorscopeText\"},[_vm._v(\"\\n      \"+_vm._s(emoji)+\":\\n      \"),_c('br'),_vm._v(\" \"),_c('span',{staticClass:\"horrorText\"},[_vm._v(_vm._s(_vm.horrorscopes[emoji]))])]):_vm._e()}),_vm._v(\" \"),(!_vm.ready)?_c('h2',{staticClass:\"horrorscopeText\"},[_c('span',{staticClass:\"horrorText\"},[_vm._v(\"Reading the spooky air, please wait...\"+_vm._s(_vm.loadingEmoji))])]):_vm._e(),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"overlay\"}}),_vm._v(\" \"),_c('video',{staticClass:\"video\",attrs:{\"id\":\"cam\",\"autoplay\":\"\",\"muted\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true}})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"titletext \"},[_c('h1',[_vm._v(\" spooky\")]),_vm._v(\" \"),_c('h1',[_vm._v(\" emoji\")]),_vm._v(\" \"),_c('h1',[_vm._v(\" horrorscope\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e3989ada\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ScaryFaces.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e3989ada\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ScaryFaces.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaryFaces.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaryFaces.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e3989ada\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ScaryFaces.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ScaryFaces.vue\n// module id = null\n// module chunks = ","<template>\n<div class=\"videoContainer\">\n  \n      <canvas id=\"overlay\" />\n      <video id=\"cam\" class=\"video\" autoplay muted playsinline></video>\n    </div>\n</template>\n\n<script>\nimport '@tensorflow/tfjs';\n// implements nodejs wrappers for HTMLCanvasElement, HTMLImageElement, ImageData\nimport * as canvas from 'canvas';\nimport * as faceapi from 'face-api.js';\n\n// patch nodejs environment, we need to provide an implementation of\n// HTMLCanvasElement and HTMLImageElement, additionally an implementation\n// of ImageData is required, in case you want to use the MTCNN\nconst { Canvas, Image, ImageData } = canvas\n\n\n//faceapi.env.monkeyPatch({ Canvas, Image, ImageData })\n// configure face API\nfaceapi.env.monkeyPatch({\n  Canvas: HTMLCanvasElement,\n  Image: HTMLImageElement,\n  ImageData: ImageData,\n  Video: HTMLVideoElement,\n  createCanvasElement: () => document.createElement('canvas'),\n  createImageElement: () => document.createElement('img')\n});\n\nconst emojis = [\"ðŸ‘»\", \"ðŸ’€\", \"ðŸ•·\",\"âš°\", \"ðŸŒ•\",\"ðŸŽƒ\", \"ðŸ¦‡\",];\nlet faceMatcher;\nlet seenFaces = []\nlet faceEmojiMap = {}\n\nexport default {\n  name: 'ScaryFaces',\n  data() {\n    return {\n      emojis: [\"ðŸ‘»\", \"ðŸ’€\", \"ðŸ•·\",\"âš°\", \"ðŸŒ•\",\"ðŸŽƒ\", \"ðŸ¦‡\"],\n      emojiEmotionMap: {\n        angry: \"ðŸ‘»\",\n        disgusted: \"ðŸ’€\",\n        fearful: \"ðŸ•·\",\n        happy: \"ðŸ•·\",\n        neutral: \"ðŸŒ•\",\n        sad: \"âš°\",\n        surprised: \"ðŸŽƒ\"\n      },\n      faceMatcher: null,\n      seenFaces: [],\n      faceEmojiMap: {},\n      video: {},\n      canvas: {},\n      captures: []\n    }\n  },\n  mounted() {\n    this.setupVideoElement()\n    this.setupFaceDetector()\n  },\n  methods: {\n    isFaceDetectionModelLoaded() {\n      return !!faceapi.nets.tinyFaceDetector.params;\n    },\n    \n    setupVideoElement: async function () {\n      this.videoEl = document.getElementById('cam')\n      console.log(\"videoEl\", this.videoEl);\n      // read that doing this helps with mobile\n      this.videoEl.setAttribute('autoplay', '');\n      this.videoEl.setAttribute('muted', '');\n      this.videoEl.setAttribute('playsinline', '');\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true})\n      this.videoEl.srcObject = stream\n      \n      this.videoEl.onloadedmetadata = this.onPlay()\n    },\n    \n    setupFaceDetector: async function () {\n      await faceapi.nets.tinyFaceDetector.load(\"/static/weights\")\n      await faceapi.loadFaceLandmarkModel('/static/weights')\n      await faceapi.loadFaceRecognitionModel('/static/weights')\n      await faceapi.loadFaceExpressionModel('/static/weights')\n      await faceapi.nets.ageGenderNet.load('/static/weights')\n    },\n    \n    onPlay: async function () {\n      if(this.videoEl.paused || this.videoEl.ended || !this.isFaceDetectionModelLoaded())\n        return setTimeout(() => this.onPlay())\n      \n      let inputSize = 160\n      let scoreThreshold = 0.5\n      \n      const modelOptions = new faceapi.TinyFaceDetectorOptions({ inputSize, scoreThreshold })\n      \n      const results = await faceapi\n            .detectAllFaces(this.videoEl, modelOptions)\n            .withFaceLandmarks()\n            .withFaceDescriptors()\n            .withFaceExpressions()\n            .withAgeAndGender()\n      \n      this.canvas = document.getElementById('overlay')\n      this.ctx = this.canvas.getContext(\"2d\");\n      this.dims = faceapi.matchDimensions(this.canvas, this.videoEl, true)\n      const resizedResults = faceapi.resizeResults(results, this.dims)\n      \n      await this.drawEmojis(resizedResults)\n      \n      setTimeout(() => this.onPlay())\n    },\n    \n    drawEmojis: async function (resizedResults) {\n      console.log(\">> results:\", resizedResults);\n      resizedResults.forEach((r) => {\n        let detection = r.detection;\n        //let emoji = this.getFaceEmoji(r);\n        var box = detection[\"box\"]\n        var x = box[\"bottomLeft\"][\"x\"] //+ (box[\"width\"]/2)\n        var y = box[\"bottomLeft\"][\"y\"] + (box[\"height\"]/2)\n        \n        var fontSize = 18;\n        this.ctx.font = \"\" + fontSize + \"px Arial\"\n        this.ctx.fillStyle = \"white\"\n        //var text = this.ctx.measureText(emoji);\n        \n        // find right font size\n        // while (text.width < box[\"width\"] + 20) {\n        //   this.ctx.font = fontSize + \"px Arial\"\n        //   text = this.ctx.measureText(emoji);\n        //   fontSize += 12;\n        // }\n        \n        // console.log(\"filling ðŸŽƒ @\", x, y);\n        // console.log(\"actually @\", text, x - (text.width/2), y + (text.height/2));\n        let texts =[]\n        Object.keys(r.expressions).forEach((expression) => {\n          let value = r.expressions[expression];\n          if (value > 0.2) {            \n            let emoji = this.emojiEmotionMap[expression]\n            texts.push(\"\" + emoji + \" \" + value + \"\\n\");\n          }\n        })\n        let text = texts.join(\"\\n\")\n        console.log(\"going to draw:\", text);\n        this.ctx.fillText(text,\n                          x,\n                          y);\n      })\n    },\n    \n    getFaceEmoji: function (result) {\n      // random emoji\n      return this.emojis[Math.floor(Math.random() * this.emojis.length)];\n      \n      if (!this.faceMatcher) {\n        this.seenFaces.push(result)\n        this.faceMatcher = new faceapi.FaceMatcher(this.seenFaces)\n      }\n      \n      let label = this.faceMatcher.findBestMatch(result.descriptor)._label\n      // new face\n      if (label == 'unknown') {\n        this.seenFaces.push(result)\n        console.log(\"new face\")\n        localStorage.setItem(\"seenFaces\", seenFaces);\n        //console.log(\"json added:\", encodeJSON(seenFaces));\n        this.faceMatcher = new faceapi.FaceMatcher(this.seenFaces)\n      }\n      \n      // find match with new faceMatcher\n      label = this.faceMatcher.findBestMatch(result.descriptor)._label\n      \n      // if we haven't assigned an emoji\n      if (!(label in this.faceEmojiMap)) {\n        console.log(\"label not in emoji map...\")\n        this.faceEmojiMap[label] = this.emojis[Math.floor(Math.random() * this.emojis.length)];\n        localStorage.setItem(\"faceEmojiMap\", faceEmojiMap);\n      }\n      \n      return this.faceEmojiMap[label]\n    },\n    \n  }\n}\n</script>\n\n<style>\nbody {\n    background-color: #F0F0F0;\n}\n#video {\n    background-color: #000000;\n}\n#overlay, .overlay {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 999;\n}\nli {\n    display: inline;\n    padding: 5px;\n}\n\n.video {\n        overflow: hidden;\n        display: block;\n        object-fit: cover;\n        width: 100%;\n        height: 100%;\n        z-index: -999;\n    }\n    .videoContainer {\n        overflow: hidden;\n        width: 100vw;\n        height: 100vh;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ScaryRecognizer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"videoContainer\"},[_c('canvas',{attrs:{\"id\":\"overlay\"}}),_vm._v(\" \"),_c('video',{staticClass:\"video\",attrs:{\"id\":\"cam\",\"autoplay\":\"\",\"muted\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f6f860f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ScaryRecognizer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f6f860f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ScaryRecognizer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaryRecognizer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScaryRecognizer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f6f860f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ScaryRecognizer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ScaryRecognizer.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport HelloWorld from '@/components/HelloWorld'\nimport ScaryFaces from '@/components/ScaryFaces'\nimport ScaryRecognizer from '@/components/ScaryRecognizer'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'ScaryFaces',\n      component: ScaryFaces\n    },\n    {\n      path: '/expressions',\n      name: 'ScaryRecognizer',\n      component: ScaryRecognizer\n    },\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport VueLocalStorage from 'vue-localstorage';\n\nVue.config.productionTip = false\n\n// Vue.use(VueLocalStorage, {\n//   name: 'ls',\n//   bind: true //created computed members from your variable declarations\n// });\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}